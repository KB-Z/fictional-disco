(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{155:function(e,t,n){e.exports=n(299)},298:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(13),r=n.n(i),c=n(56),l=n(45),s=n(6),u=n(5),h=n(9),m=n(8),p=n(10),d=n(2),g=n(331),v=n(12),E=n(26),k=n(58),f=n(325),b=n(326),O=n(80),w=n(320),C=n(79),j=n.n(C),y=n(323),L=n(328),A=n(329),x=n(324),M=n(330),I=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={authenticated:null,user:null,menuAnchorEl:null},n.login=function(){return n.props.auth.login()},n.logout=function(){n.handleMenuClose(),n.props.auth.logout()},n.handleMenuOpen=function(e){return n.setState({menuAnchorEl:e.currentTarget})},n.handleMenuClose=function(){return n.setState({menuAnchorEl:null})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){this.checkAuthentication()}},{key:"componentDidMount",value:function(){this.checkAuthentication()}},{key:"checkAuthentication",value:function(){var e,t;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.a.awrap(this.props.auth.isAuthenticated());case 2:if((e=n.sent)===this.state.authenticated){n.next=8;break}return n.next=6,j.a.awrap(this.props.auth.getUser());case 6:t=n.sent,this.setState({authenticated:e,user:t});case 8:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.authenticated,n=e.user,a=e.menuAnchorEl;if(null===t)return null;if(!t)return o.a.createElement(w.a,{color:"inherit",onClick:this.login},"Login");var i={vertical:"top",horizontal:"right"};return o.a.createElement("div",null,o.a.createElement(y.a,{onClick:this.handleMenuOpen,color:"inherit"},o.a.createElement(M.a,null)),o.a.createElement(L.a,{anchorEl:a,anchorOrigin:i,transformOrigin:i,open:!!a,onClose:this.handleMenuClose},o.a.createElement(A.a,{onClick:this.logout},o.a.createElement(x.a,{primary:"Logout",secondary:n&&n.name}))))}}]),t}(a.Component),S=Object(l.withAuth)(I),z=Object(v.a)({flex:{flex:1}})((function(e){var t=e.setUserLocation,n=e.classes;return o.a.createElement(f.a,{position:"absolute"},o.a.createElement(b.a,null,o.a.createElement(O.a,{variant:"h6",color:"inherit"},"Fanatik Fuel"),o.a.createElement(w.a,{color:"inherit",onClick:t},"My Location"),"// ",o.a.createElement(w.a,{color:"inherit",component:c.b,to:"/"},"Home"),o.a.createElement("div",{className:n.flex}),o.a.createElement(S,null)))})),N=(n(298),a.Component,function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).onClickMap=function(e){console.log(e.lngLat);var t={lng:e.lngLat[0],lat:e.lngLat[1]};n.state.markers.push(t),n.setState({events:n.state.markers}),console.log(n.state.events),e.stopPropagation()},n.setUserLocation=function(){navigator.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,long:e.coords.longitude},a={height:"100vh",width:"100vw",latitude:e.coords.latitude,longitude:e.coords.longitude,zoom:16};n.setState({viewport:a,userLocation:t})}))},n.state={viewport:{width:"100vw",height:"100vh",latitude:33.748795,longitude:-84.384904,zoom:10},userLocation:{},markers:[],events:[]},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(a.Fragment,null,o.a.createElement(g.a,null),o.a.createElement(z,{setUserLocation:this.setUserLocation}),o.a.createElement("main",null,o.a.createElement("div",{className:"map"},o.a.createElement(k.b,Object.assign({},this.state.viewport,{mapStyle:"mapbox://styles/zdonner179/ck4sq2ix3027r1cl58pru9005",mapboxApiAccessToken:"pk.eyJ1IjoiemRvbm5lcjE3OSIsImEiOiJjazRzcWVob3YzczBwM2xsYjRrdDhpcndiIn0.G6H1BMGdE9vOs7eK7rmrgg",onViewportChange:function(t){return e.setState({viewport:t})},onDblClick:this.onClickMap,doubleClickZoom:!1}),0!==Object.keys(this.state.userLocation).length?o.a.createElement(k.a,{latitude:this.state.userLocation.lat,longitude:this.state.userLocation.long},o.a.createElement("img",{className:"location-icon",src:"ICON-MEET-CARBON-3X.png",alt:"userImg"})):o.a.createElement("div",null,"Empty"),o.a.createElement(o.a.Fragment,null,this.state.markers.map((function(e,t){return o.a.createElement(k.a,{key:t,longitude:e.lng,latitude:e.lat},o.a.createElement("img",{className:"location-icon",src:"ICON-MEET-CARBON-3X.png",alt:"eventImg"}))}))))),o.a.createElement(E.Route,{path:"/implicit/callback",component:l.ImplicitCallback})))}}]),t}(a.Component)),B=Object(v.a)((function(e){return{main:Object(d.a)({padding:e.spacing(3)},e.breakpoints.down("xs"),{padding:e.spacing(2)})}}))(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R={issuer:"".concat("https://dev-732359.okta.com","/oauth2/default"),redirect_uri:"".concat(window.location.origin,"/implicit/callback"),client_id:"0oa2dco59cSnOEHvP357"};r.a.render(o.a.createElement(c.a,null,o.a.createElement(l.Security,R,o.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[155,1,2]]]);
//# sourceMappingURL=main.8dac61d0.chunk.js.map